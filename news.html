<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MIROZA — News</title>
  <meta name="description" content="News — MIROZA curated news." />
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/theme.css">
  <link rel="stylesheet" href="/assets/css/responsive.css">
</head>
<body>
  <div id="app">
    <!-- header inserted by shared HTML in JS -->
    <main class="container">
      <h1 class="page-title">News</h1>
      <section id="category-list" class="grid"></section>
    </main>
    <footer class="site-footer"></footer>
  </div>

  <script src="/assets/js/utils.js" defer></script>
  <script src="/assets/js/datastore.js" defer></script>
  <script src="/assets/js/router.js" defer></script>
  <script>
  document.addEventListener('DOMContentLoaded', async ()=>{
    const list = document.getElementById('category-list');
    const items = await datastore.fetchAll('news');
    items.forEach(it=>{
      const el = document.createElement('article');
      el.className = 'card';
      el.innerHTML = `<a href="/detail.html?type=news&id=${it.id}" aria-label="${it.title}">
        <div class="card-media"><img loading="lazy" src="${it.image}" alt="${it.title}"></div>
        <div class="card-body"><div class="badge">News</div><h3>${it.title}</h3><p>${it.description}</p></div>
      </a>`;
      list.appendChild(el);
    });
  });
  </script>
</body>
</html>
