<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="no-referrer-when-downgrade">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
  <meta name="theme-color" content="#ffffff">
  <title>Miroza — Calm news, blogs, articles & stories</title>
  <meta name="description" content="Miroza — a calm place for daily news, thoughtful blogs, in-depth articles, evocative stories and informational content.">
  <meta name="keywords" content="news, articles, blogs, stories, info, miroza">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://YOUR-DOMAIN/index.html">
  <meta name="author" content="Miroza">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <!-- Performance: preload critical assets and preconnect to analytics -->
  <link rel="preload" href="/assets/css/style.css" as="style">
  <link rel="preload" href="/assets/js/main.js" as="script">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/ui.css">
  <link rel="preconnect" href="https://plausible.io" crossorigin>

  <!-- OpenGraph / Twitter -->
  <meta property="og:title" content="Miroza — Calm news, blogs, articles & stories">
  <meta property="og:description" content="A calm place for daily news, thoughtful blogs, in-depth articles, evocative stories and informational content.">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Miroza">
  <meta property="og:url" content="https://YOUR-DOMAIN/index.html">
  <meta property="og:image" content="https://YOUR-DOMAIN/assets/og-default.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Miroza — Calm news, blogs, articles & stories">
  <meta name="twitter:description" content="A calm place for daily news, thoughtful blogs, in-depth articles, evocative stories and informational content.">
  <meta name="twitter:image" content="https://YOUR-DOMAIN/assets/og-default.png">

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Miroza",
    "url": "https://YOUR-DOMAIN/"
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Miroza Home",
    "description": "A calm place for daily news, thoughtful blogs, in-depth articles, evocative stories and informational content.",
    "url": "https://YOUR-DOMAIN/index.html"
  }
  </script>

  <!-- Plausible Analytics (privacy-friendly) -->
  <script defer data-domain="miroza.in.net" src="https://plausible.io/js/script.js"></script>
</head>
<body>
  <!-- Header will be injected by assets/js/main.js -->
  <div id="site-header"></div>

  <main class="container">
    <section class="page-intro">
      <h1>Welcome to Miroza</h1>
      <p class="lead">A calm place for Daily News, Blogs, Articles, Stories, and Informational content.</p>
    </section>

    <section id="home-grid" class="grid"></section>

    <!-- Latest news strip (homepage) -->
    <section id="home-news" class="news-strip container" style="margin-top:24px;">
      <h2>Latest News</h2>
      <div id="home-news-grid" class="grid"></div>
    </section>
  </main>

  <script src="/assets/js/utilities.js"></script>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/search.js"></script>
  <script src="/assets/js/ui.js" defer></script>
  <script src="/assets/js/images.js" defer></script>
  <script>
    // Initialize header, theme and home content
    injectHeader();
    initTheme();
    initMenus();
    initPWA();
    // init images lazy loader
    window.addEventListener('DOMContentLoaded', ()=>{ if(window.initImages) window.initImages(); });
    // init small UI helpers (progress, FAB, theme toggles)
    window.addEventListener('DOMContentLoaded', ()=>{ if(window.initUI) window.initUI(); });
    // Load latest item from each data file, then shuffle display
    async function loadHome() {
      const types = ['articles','blogs','news','stories','info'];
      const latestItems = [];
      for (const t of types) {
        try {
          const items = await fetchJSON(`assets/data/${t}.json`);
          if (items && items.length) {
            // find latest by date
            items.sort((a,b)=> new Date(b.date) - new Date(a.date));
            const item = Object.assign({type: t}, items[0]);
            latestItems.push(item);
          }
        } catch(e) { console.warn('Home load error', e); }
      }
      // Shuffle
      shuffleArray(latestItems);
      renderCards(document.getElementById('home-grid'), latestItems, true);
    }
    loadHome();
    // Also load latest 5 news items for the homepage news strip
    (async function loadHomeNews(){
      try{
        const items = await fetchJSON('assets/data/news.json');
        if(Array.isArray(items) && items.length){
          // sort by date desc and take 5
          items.sort((a,b)=> new Date(b.date) - new Date(a.date));
          const latest = items.slice(0,5).map(it=> Object.assign({type:'news'}, it));
          renderCards(document.getElementById('home-news-grid'), latest, false, 'news');
        }
      }catch(e){ console.warn('Home news load failed', e); }
    })();
  </script>
    <!-- Service worker registration moved to assets/js/main.js for consistent registration across pages -->
</body>
</html>
