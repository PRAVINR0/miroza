(function(){"use strict";const k="theme",Z="miroza_subscribers",S="https://miroza.online";window.MIROZA=window.MIROZA||{},window.MIROZA.utils={qs:(i,n=document)=>n.querySelector(i),qsa:(i,n=document)=>Array.from(n.querySelectorAll(i)),shuffle(i){let n=i.length,r,e;for(;n;)e=Math.floor(Math.random()*n--),r=i[n],i[n]=i[e],i[e]=r;return i},safeHTML(i){if(window.DOMPurify)return DOMPurify.sanitize(i,{USE_PROFILES:{html:!0}});const n=document.createElement("div");return n.textContent=i,n.innerHTML},formatNumber(i){try{return Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(i||0)}catch(n){return i||0}},debounce(i,n){let r;return function(...e){clearTimeout(r),r=setTimeout(()=>i.apply(this,e),n)}}},window.MIROZA.store=function(){let i=[],n=null;function r(){return n||(n=Promise.all([fetch("/data/posts.json").then(e=>e.ok?e.json():[])]).then(([e])=>(i=e,!0)).catch(e=>(console.error("Failed to load data:",e),!1)),n)}return{init:r,ready:()=>n,getAll:()=>i,getByCategory:e=>i.filter(s=>s.category===e)}}(),window.MIROZA.builder=function(){function i(n){const r=document.createElement("article");r.className="card post-card";const e=n.image,s=e?typeof e=="string"?e:e.src||"/assets/images/hero-insight-800.svg":"/assets/images/hero-insight-800.svg",l=e&&typeof e=="object"&&e.alt?e.alt:n.title||"";let a=n.link||n.url||"";if(!a)if(n.slug){const d=(n.category||"").toLowerCase();d==="blog"?a=`/blogs/${n.slug}.html`:d==="news"||d==="india"?a=`/news/${n.slug}.html`:a=`/articles/${n.slug}.html`}else a="/";let t="",o="";e&&typeof e=="object"&&(e.srcset&&(t=`srcset="${e.srcset}"`),e.sizes&&(o=`sizes="${e.sizes}"`));const c=`
        <a href="${a}" class="card-link" aria-label="Read ${window.MIROZA.utils.safeHTML(n.title||"")}">
          <div class="card-image-wrap">
             <img src="${s}" ${t} ${o} alt="${window.MIROZA.utils.safeHTML(l)}" loading="lazy" decoding="async" width="400" height="225" onerror="this.onerror=null;this.src='/assets/images/hero-insight-800.svg'" />
          </div>
          <div class="card-content card-body">
            <div class="card-meta">
              <span class="category">${window.MIROZA.utils.safeHTML(n.category||"Story")}</span> \u2022
              <span class="date">${n.date?new Date(n.date).toLocaleDateString():""}</span>
            </div>
            <h3 class="card-title">
              ${window.MIROZA.utils.safeHTML(n.title||"")}
            </h3>
            <p class="card-excerpt">${window.MIROZA.utils.safeHTML(n.excerpt||"")}</p>
            <span class="read-more" aria-hidden="true">Read Article</span>
          </div>
        </a>
      `;return r.innerHTML=c,r}return{build:i}}(),window.MIROZA.theme=function(){function i(){const e=localStorage.getItem(k);e?document.documentElement.dataset.theme=e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.dataset.theme="dark"),r()}function n(){const s=(document.documentElement.dataset.theme||"light")==="dark"?"light":"dark";document.documentElement.dataset.theme=s,localStorage.setItem(k,s),r()}function r(){const e=window.MIROZA.utils.qs(".theme-toggle img");if(e){const s=document.documentElement.dataset.theme==="dark";e.src=s?"/assets/icons/sun.svg":"/assets/icons/moon.svg",e.alt=s?"Switch to light mode":"Switch to dark mode"}}return{init:i,toggle:n}}(),window.MIROZA.nav=function(){let i=!1;function n(){const e=window.location.pathname,s=window.MIROZA.utils.qsa(".main-nav a");let l=!1;s.forEach(a=>{const t=a.getAttribute("href");e===t||e==="/"&&t==="/index.html"||e==="/index.html"&&t==="/"?(a.setAttribute("aria-current","page"),l=!0):a.removeAttribute("aria-current")}),!l&&s.forEach(a=>{const t=a.getAttribute("href");if(t==="/"||t==="/index.html")return;const o=t.split("/")[1];o&&e.includes(`/${o}/`)&&a.setAttribute("aria-current","page")})}function r(){n();const e=window.MIROZA.utils.qs(".menu-toggle"),s=window.MIROZA.utils.qs(".main-nav");!e||!s||(e.addEventListener("click",()=>{i=!i,s.classList.toggle("open",i),e.setAttribute("aria-expanded",i),e.innerHTML=i?'<img src="/assets/icons/close.svg" alt="Close" width="24" height="24" />':'<img src="/assets/icons/menu.svg" alt="Menu" width="24" height="24" />'}),s.addEventListener("click",l=>{l.target.tagName==="A"&&(i=!1,s.classList.remove("open"),e.setAttribute("aria-expanded","false"),e.innerHTML='<img src="/assets/icons/menu.svg" alt="Menu" width="24" height="24" />')}))}return{init:r}}(),window.MIROZA.ui=function(){let i,n,r=!1;function e(){const t=window.scrollY||document.documentElement.scrollTop||0;i&&i.classList.toggle("is-stuck",t>24),n&&n.classList.toggle("visible",t>480)}function s(){n&&n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function l(){const t=window.MIROZA.utils.qsa(".single-article img, main img[data-enhance-responsive]");t.length&&t.forEach(o=>{o&&(o.getAttribute("loading")||(o.loading="lazy"),o.decoding="async")})}function a(){i=window.MIROZA.utils.qs(".site-header"),n=window.MIROZA.utils.qs(".back-to-top"),s(),window.addEventListener("scroll",()=>{r||(r=!0,window.requestAnimationFrame(()=>{e(),r=!1}))},{passive:!0}),e(),l()}return{init:a}}(),window.MIROZA.search=function(){function i(){const n=window.MIROZA.utils.qs("#search"),r=window.MIROZA.utils.qs("#search-suggestions");!n||!r||!window.MIROZA.store||(n.addEventListener("input",window.MIROZA.utils.debounce(e=>{const s=e.target.value.toLowerCase();if(s.length<2){r.hidden=!0;return}const a=window.MIROZA.store.getAll().filter(t=>(t.title||"").toLowerCase().includes(s)).slice(0,5);r.innerHTML="",a.length?(r.hidden=!1,a.forEach(t=>{const o=document.createElement("button");o.className="search-suggestion",o.innerHTML=`<strong>${window.MIROZA.utils.safeHTML(t.title)}</strong><br><span>${window.MIROZA.utils.safeHTML(t.category||"")}</span>`,o.addEventListener("click",()=>{window.location.href=t.link||`/articles/${t.slug}.html`}),r.appendChild(o)})):r.hidden=!0},300)),document.addEventListener("click",e=>{!n.contains(e.target)&&!r.contains(e.target)&&(r.hidden=!0)}))}return{init:i}}(),window.MIROZA.subscription=function(){function i(){const e=window.MIROZA.utils.qs("#newsletter-form");if(!e)return;if(!e.querySelector('input[type="email"]')){const l=document.createElement("input");l.type="email",l.placeholder="Your email address",l.required=!0,l.setAttribute("aria-label","Email address"),e.insertBefore(l,e.querySelector("button"))}e.addEventListener("submit",l=>{l.preventDefault();const a=e.querySelector('input[type="email"]'),t=a.value.trim();if(!t)return;n(t);const o=e.querySelector("button").textContent;e.querySelector("button").textContent="Subscribed!",e.querySelector("button").disabled=!0,a.value="",setTimeout(()=>{e.querySelector("button").textContent=o,e.querySelector("button").disabled=!1},3e3)});const s=window.MIROZA.utils.qs(".newsletter h3");s&&(s.addEventListener("dblclick",r),s.title="Admin: Double click to download subscriber list")}function n(e){let s=[];try{const a=localStorage.getItem(Z);a&&(s=JSON.parse(a))}catch(a){}const l={email:e,date:new Date().toISOString(),source:"newsletter-form"};s.push(l),localStorage.setItem(Z,JSON.stringify(s)),console.log("Subscriber saved locally:",l)}function r(){let e=[];try{const c=localStorage.getItem(Z);c&&(e=JSON.parse(c))}catch(c){}if(!e.length){alert("No subscribers yet.");return}const s=`Email,Date,Source
`,l=e.map(c=>`${c.email},${c.date},${c.source}`).join(`
`),a=new Blob([s+l],{type:"text/csv"}),t=URL.createObjectURL(a),o=document.createElement("a");o.href=t,o.download="subscribers.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}return{init:i}}(),window.MIROZA.home=function(){function i(r,e){const s=window.MIROZA.utils.qs(`#${r}`);s&&(s.innerHTML="",e.forEach(l=>{s.appendChild(window.MIROZA.builder.build(l))}))}function n(){if(!window.MIROZA.store)return;const r=window.MIROZA.store.getAll();if(!r||!r.length)return;let e=[];try{fetch("/data/news.json").then(t=>t.ok?t.json():[]).then(t=>{if(t&&t.length){const c=t.slice().sort((d,h)=>(h.date||"").localeCompare(d.date||"")).slice(0,4).map(d=>({title:d.title,slug:d.slug,date:d.date,category:d.category||"News",excerpt:d.excerpt,link:d.contentFile||`/news/${d.slug}.html`,image:d.image?{src:d.image,alt:d.title}:null}));i("news-cards",c);return}const o=r.filter(c=>c.category==="News").slice(0,4);i("news-cards",o)}).catch(()=>{const t=r.filter(o=>o.category==="News").slice(0,4);i("news-cards",t)})}catch(t){const o=r.filter(c=>c.category==="News").slice(0,4);i("news-cards",o)}const s=r.filter(t=>t.category==="Blog"||t.link&&t.link.includes("/blogs/")).slice(0,4),l=r.filter(t=>t.category!=="News"&&t.category!=="Blog"&&(!t.link||!t.link.includes("/blogs/"))).slice(0,4);i("blog-cards",s),i("articles-cards",l);const a=r.slice(0,30);i("latest-cards",a)}return{init:n}}(),window.MIROZA.indiaNews=function(){function i(e){return{title:e.title,slug:e.slug,date:e.date,category:"India",excerpt:e.excerpt,link:e.contentFile||`/news/${e.slug}.html`,image:e.image?{src:e.image,alt:e.title}:null}}function n(){try{return new URLSearchParams(window.location.search).get("topic")}catch(e){return null}}function r(){const e=window.MIROZA.utils.qs("#india-news-list");e&&fetch("/data/news.json").then(s=>s.ok?s.json():[]).then(s=>{e.innerHTML="";let l=s.slice().sort((t,o)=>(o.date||"").localeCompare(t.date||""));const a=n();if(a&&(l=l.filter(t=>(t.category||"").toLowerCase()===a.toLowerCase()||(t.title||"").toLowerCase().includes(a.toLowerCase()))),l.length===0){e.innerHTML="<p>No news found for this topic.</p>";return}l.forEach(t=>{e.appendChild(window.MIROZA.builder.build(i(t)))})}).catch(()=>{e.innerHTML="<p>Unable to load latest India news right now.</p>"})}return{init:r}}(),window.MIROZA.listing=function(){function i(){try{const t=new URLSearchParams(window.location.search),o=parseInt(t.get("page"),10);return isNaN(o)||o<1?1:o}catch(t){return 1}}function n(){try{return new URLSearchParams(window.location.search).get("topic")}catch(t){return null}}function r(t){try{const o=new URL(window.location.href);o.searchParams.set("page",String(t)),window.history.replaceState({},"",o.toString())}catch(o){}}function e(t,o,c=12,d=null){const h=window.MIROZA.utils.qs(t);if(!h)return null;h.innerHTML="";const p=d||i()||1,w={items:o,pageSize:c,index:(p-1)*c};w.index>0&&w.items.slice(0,w.index).forEach(m=>h.appendChild(window.MIROZA.builder.build(m)));function b(){const g=w.items.slice(w.index,w.index+w.pageSize);return g.forEach(m=>h.appendChild(window.MIROZA.builder.build(m))),w.index+=g.length,w.index<w.items.length}w.index===0&&b();const u=Math.ceil(w.index/w.pageSize)||1;return r(u),{renderNext:b,state:w}}function s(t,o){const c=window.MIROZA.utils.qs(t);if(!c||!o||(c.innerHTML="",o.state.index>=o.state.items.length))return;const d=document.createElement("button");d.className="load-more",d.textContent="Load more",d.addEventListener("click",()=>{const h=o.renderNext(),p=Math.ceil(o.state.index/o.state.pageSize)||1;r(p),h||d.remove()}),c.appendChild(d)}function l(){const t="#articles-list",o="#articles-pagination";if(!window.MIROZA.store||!window.MIROZA.utils.qs(t))return;const c=window.MIROZA.store.getAll();if(!c||!c.length){window.MIROZA.utils.qs(t).innerHTML="<p>No articles found.</p>";return}const d=n();let h=c.filter(w=>w.category!=="Blog").slice().sort((w,b)=>(b.date||"").localeCompare(w.date||""));d&&(h=h.filter(w=>(w.category||"").toLowerCase()===d.toLowerCase()||(w.title||"").toLowerCase().includes(d.toLowerCase())));const p=e(t,h,12);s(o,p)}async function a(){const t="#posts-grid";let o="#blogs-pagination";if(window.MIROZA.utils.qs(t)){if(!window.MIROZA.utils.qs(o)){const c=document.createElement("nav");c.id="blogs-pagination",c.className="pagination",window.MIROZA.utils.qs(t).parentNode.appendChild(c)}try{const c=await fetch("/data/blogs.json");let d=[];c.ok?d=await c.json():(await window.MIROZA.store.init(),d=window.MIROZA.store.getAll().filter(u=>u.category==="Blog"));let h=d.slice().sort((u,g)=>(g.date||"").localeCompare(u.date||"")).map(u=>({title:u.title,slug:u.slug,date:u.date,category:"Blog",excerpt:u.excerpt,link:u.url||u.contentFile||`/blogs/${u.slug}.html`,image:u.image?{src:u.image,alt:u.title}:null}));const p=n();p&&(h=h.filter(u=>(u.title||"").toLowerCase().includes(p.toLowerCase())));const w=e(t,h,12);s(o,w);const b=document.getElementById("posts-skeleton");b&&(b.style.display="none")}catch(c){console.error("Failed to load blogs",c)}}}return{initArticles:l,initBlogs:a}}(),window.MIROZA.postMeta=function(){function i(){var w,b,u,g,m,A,y;const n=document.body.dataset.page||"";if(!/article|news-article|blog-article/.test(n)||document.querySelector('script[type="application/ld+json"]'))return;const r=((w=document.querySelector('meta[property="og:title"]'))==null?void 0:w.getAttribute("content"))||document.title,e=((b=document.querySelector('meta[name="description"]'))==null?void 0:b.getAttribute("content"))||((u=document.querySelector('meta[property="og:description"]'))==null?void 0:u.getAttribute("content"))||"",s=((g=document.querySelector('meta[property="og:image"]'))==null?void 0:g.getAttribute("content"))||((m=document.querySelector("img"))==null?void 0:m.src)||"",l=((A=document.querySelector('link[rel="canonical"]'))==null?void 0:A.href)||window.location.href,a=document.querySelector(".single-article time")||document.querySelector(".meta time"),t=a?a.getAttribute("datetime")||a.textContent:((y=document.querySelector('meta[property="article:published_time"]'))==null?void 0:y.getAttribute("content"))||"",o=document.querySelector(".author")||document.querySelector('meta[name="author"]'),c=o?o.textContent||o.getAttribute("content"):"",h={"@context":"https://schema.org","@type":n==="blog-article"||n==="blog"?"BlogPosting":"NewsArticle",headline:r,description:e,image:s,datePublished:t||void 0,author:c?{"@type":"Person",name:c}:void 0,publisher:{"@type":"Organization",name:"MIROZA",logo:{"@type":"ImageObject",url:location.origin+"/assets/icons/logo.svg"}},mainEntityOfPage:{"@type":"WebPage","@id":l}};Object.keys(h).forEach(M=>h[M]===void 0&&delete h[M]);const p=document.createElement("script");p.type="application/ld+json",p.text=JSON.stringify(h,null,2),document.head.appendChild(p)}return{init:i}}(),window.MIROZA.ads=function(){function i(){const n=window.MIROZA.utils.qsa(".ad-slot");n.length&&n.forEach(r=>{r.dataset.loaded||(r.dataset.loaded="true")})}return{init:i}}(),window.MIROZA.cookieBanner=function(){function i(){if(localStorage.getItem("miroza_cookie_consent"))return;const n=document.createElement("div");if(n.className="cookie-banner",n.innerHTML=`
        <div class="cookie-content">
          <p>We use cookies to improve your experience. By using our site, you agree to our <a href="/privacy.html">Privacy Policy</a>.</p>
          <button id="accept-cookies">Accept</button>
        </div>
      `,document.body.appendChild(n),!document.getElementById("cookie-styles")){const r=document.createElement("style");r.id="cookie-styles",r.textContent=`
          .cookie-banner { position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-alt, #f1f5f9); border-top: 1px solid var(--border, #e2e8f0); padding: 1rem; z-index: 9999; display: flex; justify-content: center; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
          .cookie-content { display: flex; align-items: center; gap: 1rem; max-width: 1200px; width: 100%; justify-content: space-between; flex-wrap: wrap; }
          .cookie-content p { margin: 0; font-size: 0.9rem; color: var(--text, #333); }
          .cookie-content button { background: var(--primary, #2563eb); color: white; border: none; padding: 0.5rem 1.5rem; border-radius: 4px; cursor: pointer; font-weight: 500; }
          .cookie-content button:hover { opacity: 0.9; }
        `,document.head.appendChild(r)}document.getElementById("accept-cookies").addEventListener("click",()=>{localStorage.setItem("miroza_cookie_consent","true"),n.remove()})}return{init:i}}(),document.addEventListener("DOMContentLoaded",()=>{window.MIROZA.theme.init(),window.MIROZA.nav.init(),window.MIROZA.ui.init(),window.MIROZA.subscription.init(),window.MIROZA.ads.init(),window.MIROZA.cookieBanner&&window.MIROZA.cookieBanner.init();const i=window.MIROZA.utils.qs(".theme-toggle");i&&i.addEventListener("click",window.MIROZA.theme.toggle);const n=document.body.dataset.page||"home",r=n==="home",e=n==="india-news",s=n==="articles",l=n==="blog";window.MIROZA.store&&typeof window.MIROZA.store.init=="function"?window.MIROZA.store.init().then(()=>{r&&window.MIROZA.home&&window.MIROZA.home.init(),s&&window.MIROZA.listing&&window.MIROZA.listing.initArticles(),l&&window.MIROZA.listing&&window.MIROZA.listing.initBlogs(),window.MIROZA.search&&window.MIROZA.search.init(),e&&window.MIROZA.indiaNews&&window.MIROZA.indiaNews.init(),window.MIROZA.postMeta&&window.MIROZA.postMeta.init(),document.body.classList.add("js-ready")}).catch(()=>{e&&window.MIROZA.indiaNews&&window.MIROZA.indiaNews.init(),window.MIROZA.postMeta&&window.MIROZA.postMeta.init(),document.body.classList.add("js-ready")}):(e&&window.MIROZA.indiaNews&&window.MIROZA.indiaNews.init(),l&&window.MIROZA.listing&&window.MIROZA.listing.initBlogs(),window.MIROZA.postMeta&&window.MIROZA.postMeta.init(),document.body.classList.add("js-ready"));try{const a=(location.pathname||"").toLowerCase(),t=a.includes("/articles/")&&!/articles(\/|index\.html|articles\.html)$/.test(a),o=a.includes("/blogs/")&&!/blogs(\/|index\.html|blogs\.html)$/.test(a);(t||o)&&function(){"use strict";const c={article:".single-article, main article, .post-content",header:".single-article header",title:"h1",navContainer:".article-nav",shareContainer:".article-share"};function d(){const g=location.pathname.match(/\/(articles|blogs|news)\/([^/]+)\.html$/);return g?g[2]:null}function h(){const u=location.pathname;return u.includes("/articles/")?"Articles":u.includes("/blogs/")?"Blogs":u.includes("/news/")?"News":"Home"}function p(){var I;if(!document.querySelector(c.article)||document.querySelector(".breadcrumbs"))return;const g=h(),m=`/${g.toLowerCase()}/${g.toLowerCase()}.html`,A=((I=document.querySelector("h1"))==null?void 0:I.textContent)||"Current Page",y=`
              <nav class="breadcrumbs" aria-label="Breadcrumb">
                <ol>
                  <li><a href="/">Home</a></li>
                  <li><a href="${m}">${g}</a></li>
                  <li aria-current="page">${A}</li>
                </ol>
              </nav>
            `,M=document.querySelector(c.header);if(M){const R=document.createElement("div");R.innerHTML=y,M.parentNode.insertBefore(R.firstElementChild,M)}}function w(){const u=document.querySelector(c.article);if(!u||document.querySelector(c.shareContainer))return;const g=encodeURIComponent(window.location.href),m=encodeURIComponent(document.title),A=`
              <div class="article-share">
                <h3>Share this story</h3>
                <div class="share-buttons">
                  <a href="https://twitter.com/intent/tweet?text=${m}&url=${g}" target="_blank" rel="noopener noreferrer" class="share-btn twitter" aria-label="Share on Twitter"><span>Twitter</span></a>
                  <a href="https://www.facebook.com/sharer/sharer.php?u=${g}" target="_blank" rel="noopener noreferrer" class="share-btn facebook" aria-label="Share on Facebook"><span>Facebook</span></a>
                  <a href="https://www.linkedin.com/shareArticle?mini=true&url=${g}&title=${m}" target="_blank" rel="noopener noreferrer" class="share-btn linkedin" aria-label="Share on LinkedIn"><span>LinkedIn</span></a>
                  <a href="https://api.whatsapp.com/send?text=${m}%20${g}" target="_blank" rel="noopener noreferrer" class="share-btn whatsapp" aria-label="Share on WhatsApp"><span>WhatsApp</span></a>
                </div>
              </div>
            `,y=document.createElement("div");y.innerHTML=A,u.appendChild(y.firstElementChild)}async function b(){const u=d();if(u)try{let g=[];if(window.MIROZA.store&&window.MIROZA.store.ready())g=window.MIROZA.store.getAll();else{const f=await fetch("/data/posts.json");if(!f.ok)return;g=await f.json()}const m=g.sort((f,O)=>new Date(O.date||0)-new Date(f.date||0)),A=m.findIndex(f=>f.slug===u||f.link&&f.link.includes(u));if(A===-1)return;const y=m[A],M=m[A-1],I=m[A+1],R=document.querySelector(c.article);if(!R)return;if(M||I){const f=`
                  <nav class="article-nav" aria-label="Article navigation">
                    ${I?`<a href="${I.link||I.url}" class="nav-link prev"><span class="nav-label">&larr; Previous</span><span class="nav-title">${I.title}</span></a>`:'<div class="nav-spacer"></div>'}
                    ${M?`<a href="${M.link||M.url}" class="nav-link next"><span class="nav-label">Next &rarr;</span><span class="nav-title">${M.title}</span></a>`:'<div class="nav-spacer"></div>'}
                  </nav>
                `,O=document.createElement("div");O.innerHTML=f,R.appendChild(O.firstElementChild)}const L=g.filter(f=>f.category===y.category&&f.slug!==y.slug).slice(0,3);if(L.length>0){const f=`
                  <section class="related-articles">
                    <h3>You might also like</h3>
                    <div class="related-grid">
                      ${L.map(v=>`<a href="${v.link}" class="related-card"><div class="related-image"><img src="${v.image||"/assets/images/hero-insight-800.svg"}" alt="${v.title}" loading="lazy"></div><h4>${v.title}</h4></a>`).join("")}
                    </div>
                  </section>
                `,O=document.createElement("div");O.innerHTML=f,R.appendChild(O.firstElementChild)}}catch(g){console.error("Nav load failed",g)}}p(),w(),b()}()}catch(a){}}),window.MIROZA.loadPosts=async()=>(await window.MIROZA.store.init(),window.MIROZA.store.getAll()),window.MIROZA.buildCard=window.MIROZA.builder.build,"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(i=>console.log("SW registered:",i.scope)).catch(i=>console.log("SW registration failed:",i))})})();
