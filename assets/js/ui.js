!function(t,e){const n="miroza-ui-settings";function o(){try{return JSON.parse(localStorage.getItem(n)||"{}")}catch(t){return{}}}function c(t){(t=t||{}).fontScale?e.documentElement.style.fontSize=100*t.fontScale+"%":e.documentElement.style.fontSize=""}t.initUI=function(){!function(){let n=e.getElementById("reading-progress");function o(){const o=e.documentElement.scrollHeight-t.innerHeight,c=o>0?Math.min(100,Math.round(t.scrollY/o*100)):0;n.style.width=c+"%"}n||(n=e.createElement("div"),n.id="reading-progress",e.body.appendChild(n)),t.addEventListener("scroll",o,{passive:!0}),o()}(),function(){let n=e.getElementById("back-to-top");function o(){t.scrollY>300?n.classList.add("show"):n.classList.remove("show")}n||(n=e.createElement("button"),n.id="back-to-top",n.title="Back to top",n.innerHTML="â†‘",e.body.appendChild(n)),n.addEventListener("click",()=>t.scrollTo({top:0,behavior:"smooth"})),t.addEventListener("scroll",o,{passive:!0}),o()}(),c(o())},t.applyUISettings=c,t.getFontScale=function(){const t=o();return t&&t.fontScale?t.fontScale:1},t.setFontScale=function(t){const e=o()||{};e.fontScale=t,c(e),function(t){try{localStorage.setItem(n,JSON.stringify(t||{}))}catch(t){}}(e)},t.adjustFontScale=function(e){const n=t.getFontScale(),o=Math.max(.8,Math.min(1.5,Math.round(100*(n+e))/100));t.setFontScale(o)},t.applyFontScale=function(){c(o())}}(window,document);